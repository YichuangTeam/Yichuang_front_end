{"ast":null,"code":"export default {\n  name: 'HomeCarousel',\n  data() {\n    return {\n      currentIndex: 0,\n      items: [\n      // { image: 'https://via.placeholder.com/600x300' },\n      // { image: 'https://via.placeholder.com/600x300' },\n      // { image: 'https://via.placeholder.com/600x300' }\n      {\n        image: '../../public/static/banner01.jpg'\n      }, {\n        image: '../public/static/banner02.jpg'\n      }, {\n        image: '/public/static/banner03.jpg'\n      }],\n      isShow: false,\n      timer: null\n    };\n  },\n  methods: {\n    screenLeft() {\n      console.log(this.number);\n      if (this.currentIndex === 0) {\n        this.$refs.carousel.style.transition = 'transform 0s';\n        this.currentIndex = this.items.length - 1;\n        setTimeout(() => {\n          this.$refs.carousel.style.transition = 'transform 0.5s';\n        }, 5);\n      }\n      setTimeout(() => {\n        this.currentIndex = (this.currentIndex - 1 + this.items.length) % this.items.length;\n      }, 10);\n    },\n    screenRight() {\n      this.currentIndex = (this.currentIndex + 1) % this.items.length;\n      setTimeout(() => {\n        if (this.currentIndex === this.items.length - 1) {\n          this.$refs.carousel.style.transition = 'transform 0s';\n          this.currentIndex = 0;\n          setTimeout(() => {\n            this.$refs.carousel.style.transition = 'transform 0.5s';\n          }, 10);\n        }\n      }, 500);\n    },\n    enDisplay() {\n      this.isShow = true;\n      clearInterval(this.timer);\n      this.timer = null;\n    },\n    leHide() {\n      this.isShow = false;\n      this.timer = setInterval(() => {\n        this.screenRight();\n      }, 2000);\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.$refs.carousel;\n    });\n    this.timer = setInterval(() => {\n      this.screenRight();\n    }, 2000);\n    // console.log(this.$store.state.count);\n    // this.$store.commit('increment');\n\n    // console.log(this.$store.state.count);\n\n    // console.log(this.$store.state.user.age);\n    // this.$store.commit('user/increment');\n    // console.log(this.$store.state.user.age);\n  },\n  beforeDestroy() {\n    clearInterval(this.timer);\n  },\n  computed: {\n    number() {\n      return this.items.length - 1;\n    }\n  }\n};","map":{"version":3,"names":["name","data","currentIndex","items","image","isShow","timer","methods","screenLeft","console","log","number","$refs","carousel","style","transition","length","setTimeout","screenRight","enDisplay","clearInterval","leHide","setInterval","mounted","$nextTick","beforeDestroy","computed"],"sources":["src/components/home/HomeCarousel.vue"],"sourcesContent":["<template>\r\n    <div id=\"app\">\r\n        <div class=\"focus\" @mouseenter=\"enDisplay\" @mouseleave=\"leHide\">\r\n            <!-- 左侧按钮 -->\r\n            <a href=\"javascript:;\" class=\"arrow-l\" v-show=\"isShow\" @click=\"screenLeft\">&lt;</a>\r\n            <!-- 右侧按钮 -->\r\n            <a href=\"javascript:;\" class=\"arrow-r\" v-show=\"isShow\" @click=\"screenRight\">&gt;</a>\r\n            <!-- 核心内容 -->\r\n            <ul ref=\"carousel\" :style=\"{ transform: `translateX(-${currentIndex * 100}%)` }\">\r\n                <li v-for=\"(item, index) in items\" :key=\"index\">\r\n                    <img :src=\"item.image\" alt=\"无法加载图片\">\r\n                    <!-- <img src={{item.image}} alt=\"\"> -->\r\n                </li>\r\n            </ul>\r\n            <!-- 小圆圈 -->\r\n            <ol class=\"circle\">\r\n                <li v-for=\"index in number\" :key=\"index\" :class=\"{'current': index === currentIndex + 1}\" @click=\"currentIndex = index - 1\"></li>\r\n            </ol>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'HomeCarousel',\r\n    data() {\r\n        return {\r\n            currentIndex: 0,\r\n            items: [\r\n                // { image: 'https://via.placeholder.com/600x300' },\r\n                // { image: 'https://via.placeholder.com/600x300' },\r\n                // { image: 'https://via.placeholder.com/600x300' }\r\n                {image:'../../public/static/banner01.jpg'},\r\n                {image:'../public/static/banner02.jpg'},\r\n                {image:'/public/static/banner03.jpg'}\r\n            ],\r\n            isShow: false,\r\n            timer:null,\r\n        }\r\n    },\r\n    methods: {\r\n        screenLeft() {\r\n            console.log(this.number);\r\n            if(this.currentIndex === 0){\r\n                this.$refs.carousel.style.transition = 'transform 0s';\r\n                this.currentIndex = this.items.length - 1;\r\n                setTimeout(()=>{\r\n                    this.$refs.carousel.style.transition = 'transform 0.5s';\r\n                },5)\r\n            }\r\n            setTimeout(() => {\r\n                this.currentIndex = (this.currentIndex - 1 + this.items.length) % this.items.length;\r\n            }, 10);\r\n            \r\n        },\r\n        screenRight() {\r\n            this.currentIndex = (this.currentIndex + 1) % this.items.length;\r\n            setTimeout(()=>{\r\n                if(this.currentIndex === this.items.length - 1){\r\n                    this.$refs.carousel.style.transition = 'transform 0s';\r\n                    this.currentIndex = 0;\r\n                    setTimeout(()=>{\r\n                        this.$refs.carousel.style.transition = 'transform 0.5s';\r\n                    },10)\r\n                }\r\n            }, 500)\r\n        },\r\n        enDisplay(){\r\n            this.isShow = true;\r\n            clearInterval(this.timer);\r\n            this.timer = null;\r\n        },\r\n        leHide(){\r\n            this.isShow = false;\r\n            this.timer = setInterval(() => {\r\n                this.screenRight();\r\n            }, 2000)\r\n        }\r\n    },\r\n    mounted(){\r\n        this.$nextTick(()=>{\r\n            this.$refs.carousel\r\n        })\r\n        this.timer = setInterval(() => {\r\n            this.screenRight();\r\n        }, 2000)\r\n        // console.log(this.$store.state.count);\r\n        // this.$store.commit('increment');\r\n\r\n        // console.log(this.$store.state.count);\r\n\r\n        // console.log(this.$store.state.user.age);\r\n        // this.$store.commit('user/increment');\r\n        // console.log(this.$store.state.user.age);\r\n    },\r\n    beforeDestroy() {\r\n        clearInterval(this.timer);\r\n    },\r\n    computed:{\r\n        number(){\r\n            return this.items.length - 1;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.focus {\r\n    position: relative;\r\n    left: 483px;\r\n    top: 115px;\r\n    width: 463px;\r\n    height: 302px;\r\n    border-radius: 30px;\r\n    overflow: hidden;\r\n}\r\n\r\n.focus ul {\r\n    display: flex;\r\n    transition: transform 0.5s;\r\n}\r\n\r\n.focus ul li {\r\n    flex: 0 0 100%;\r\n}\r\n\r\nimg{\r\n    width: 463px;\r\n    height: 302px;\r\n}\r\n\r\n.arrow-l,\r\n.arrow-r {\r\n    /* display: none; */\r\n    position: absolute;\r\n    top: 50%;\r\n    margin-top: -20px;\r\n    width: 24px;\r\n    height: 40px;\r\n    background: rgba(0, 0, 0, .3);\r\n    text-align: center;\r\n    line-height: 40px;\r\n    color: #fff;\r\n    font-family: 'icomoon';\r\n    font-size: 18px;\r\n    z-index: 2;\r\n}\r\n\r\n.arrow-r {\r\n    right: 0;\r\n}\r\n\r\n.circle {\r\n    position: absolute;\r\n    bottom: 10px;\r\n    left: 50px;\r\n}\r\n\r\n.circle li {\r\n    float: left;\r\n    width: 8px;\r\n    height: 8px;\r\n    /*background-color: #fff;*/\r\n    border: 2px solid rgba(255, 255, 255, 0.5);\r\n    margin: 0 3px;\r\n    border-radius: 50%;\r\n    /*鼠标经过显示小手*/\r\n    cursor: pointer;\r\n}\r\n\r\n.current {\r\n    background-color: #fff;\r\n}\r\n</style>"],"mappings":"AAuBA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,YAAA;MACAC,KAAA;MACA;MACA;MACA;MACA;QAAAC,KAAA;MAAA,GACA;QAAAA,KAAA;MAAA,GACA;QAAAA,KAAA;MAAA,EACA;MACAC,MAAA;MACAC,KAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAA;MACAC,OAAA,CAAAC,GAAA,MAAAC,MAAA;MACA,SAAAT,YAAA;QACA,KAAAU,KAAA,CAAAC,QAAA,CAAAC,KAAA,CAAAC,UAAA;QACA,KAAAb,YAAA,QAAAC,KAAA,CAAAa,MAAA;QACAC,UAAA;UACA,KAAAL,KAAA,CAAAC,QAAA,CAAAC,KAAA,CAAAC,UAAA;QACA;MACA;MACAE,UAAA;QACA,KAAAf,YAAA,SAAAA,YAAA,YAAAC,KAAA,CAAAa,MAAA,SAAAb,KAAA,CAAAa,MAAA;MACA;IAEA;IACAE,YAAA;MACA,KAAAhB,YAAA,SAAAA,YAAA,aAAAC,KAAA,CAAAa,MAAA;MACAC,UAAA;QACA,SAAAf,YAAA,UAAAC,KAAA,CAAAa,MAAA;UACA,KAAAJ,KAAA,CAAAC,QAAA,CAAAC,KAAA,CAAAC,UAAA;UACA,KAAAb,YAAA;UACAe,UAAA;YACA,KAAAL,KAAA,CAAAC,QAAA,CAAAC,KAAA,CAAAC,UAAA;UACA;QACA;MACA;IACA;IACAI,UAAA;MACA,KAAAd,MAAA;MACAe,aAAA,MAAAd,KAAA;MACA,KAAAA,KAAA;IACA;IACAe,OAAA;MACA,KAAAhB,MAAA;MACA,KAAAC,KAAA,GAAAgB,WAAA;QACA,KAAAJ,WAAA;MACA;IACA;EACA;EACAK,QAAA;IACA,KAAAC,SAAA;MACA,KAAAZ,KAAA,CAAAC,QAAA;IACA;IACA,KAAAP,KAAA,GAAAgB,WAAA;MACA,KAAAJ,WAAA;IACA;IACA;IACA;;IAEA;;IAEA;IACA;IACA;EACA;EACAO,cAAA;IACAL,aAAA,MAAAd,KAAA;EACA;EACAoB,QAAA;IACAf,OAAA;MACA,YAAAR,KAAA,CAAAa,MAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}