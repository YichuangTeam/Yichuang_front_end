{"ast":null,"code":"import _defineProperty from \"D:/A.yichuang/Codespaces/yichuang/front_code/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { WebGLRenderer, Scene, PerspectiveCamera, Vector3, MOUSE } from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\nexport class ThreeEngine {\n  // 场景\n  //width: 938px;\n  //height: 544px;\n  //left: 44px;\n  //top: -518px;\n  constructor(dom) {\n    _defineProperty(this, \"dom\", null);\n    // 挂载的 DOM\n    _defineProperty(this, \"scene\", null);\n    // 创建渲染器\n    let renderer = new WebGLRenderer({\n      antialias: true // 开启抗锯齿\n    });\n    dom.appendChild(renderer.domElement); // 将渲染器挂载到dom\n    renderer.setSize(938, 544, true);\n    let scene = new Scene(); // 实例化场景\n    let camera = new PerspectiveCamera(45, 938 / 544, 1, 1000); // 实例化相机\n    camera.position.set(50, 50, 50); // 设置相机位置\n    camera.lookAt(new Vector3(0, 0, 0)); // 设置相机看先中心点\n    camera.up = new Vector3(0, 1, 0); // 设置相机角度\n    renderer.render(scene, camera); // 渲染器渲染场景和相机\n\n    let orbitControls = new OrbitControls(camera, renderer.domElement);\n    orbitControls.mouseButtons = {\n      // 设置鼠标功能键（轨道控制器）\n      RIGHT: null,\n      // 左键无功能\n      MIDDLE: MOUSE.DOLLY,\n      // 中键缩放\n      LEFT: MOUSE.ROTATE // 右键旋转\n    };\n\n    // 逐帧渲染threejs\n    let animate = () => {\n      renderer.render(scene, camera); // 渲染器渲染场景和相机\n      requestAnimationFrame(animate);\n    };\n    animate();\n    this.dom = dom;\n    this.scene = scene;\n    console.log(\"渲染完成\");\n  }\n\n  /**\r\n   * 向场景中添加模型\r\n   * @param  {...any} object 模型列表\r\n   */\n  addObject(...object) {\n    object.forEach(elem => {\n      this.scene.add(elem);\n    });\n  }\n}","map":{"version":3,"names":["WebGLRenderer","Scene","PerspectiveCamera","Vector3","MOUSE","OrbitControls","ThreeEngine","constructor","dom","_defineProperty","renderer","antialias","appendChild","domElement","setSize","scene","camera","position","set","lookAt","up","render","orbitControls","mouseButtons","RIGHT","MIDDLE","DOLLY","LEFT","ROTATE","animate","requestAnimationFrame","console","log","addObject","object","forEach","elem","add"],"sources":["D:/A.yichuang/Codespaces/yichuang/front_code/src/components/modelShow/TEngine.js"],"sourcesContent":["import { WebGLRenderer, Scene, PerspectiveCamera, Vector3, MOUSE } from 'three'\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\r\n\r\nexport class ThreeEngine {\r\n\r\n  dom = null; // 挂载的 DOM\r\n  scene = null; // 场景\r\n//width: 938px;\r\n//height: 544px;\r\n//left: 44px;\r\n//top: -518px;\r\n  constructor(dom) {\r\n\r\n    // 创建渲染器\r\n    let renderer = new WebGLRenderer({\r\n      antialias: true,  // 开启抗锯齿\r\n    })\r\n    dom.appendChild(renderer.domElement)  // 将渲染器挂载到dom\r\n    renderer.setSize(938,544,true)\r\n\r\n    let scene = new Scene()  // 实例化场景\r\n    let camera = new PerspectiveCamera(45, 938 / 544, 1, 1000)  // 实例化相机\r\n    camera.position.set(50, 50, 50) // 设置相机位置\r\n    camera.lookAt(new Vector3(0, 0, 0))  // 设置相机看先中心点\r\n    camera.up = new Vector3(0, 1, 0)  // 设置相机角度\r\n    renderer.render(scene, camera)  // 渲染器渲染场景和相机\r\n  \r\n    let orbitControls = new OrbitControls(camera, renderer.domElement)\r\n    orbitControls.mouseButtons = {  // 设置鼠标功能键（轨道控制器）\r\n      RIGHT: null,  // 左键无功能\r\n      MIDDLE: MOUSE.DOLLY,  // 中键缩放\r\n      LEFT: MOUSE.ROTATE   // 右键旋转\r\n    }\r\n\r\n    // 逐帧渲染threejs\r\n    let animate = () => {\r\n      renderer.render(scene, camera)  // 渲染器渲染场景和相机\r\n      requestAnimationFrame(animate);\r\n    }\r\n    animate()\r\n\r\n    this.dom = dom\r\n    this.scene = scene\r\n    console.log(\"渲染完成\")\r\n  }\r\n\r\n  /**\r\n   * 向场景中添加模型\r\n   * @param  {...any} object 模型列表\r\n   */\r\n  addObject(...object) {\r\n    object.forEach(elem => {\r\n      this.scene.add(elem)\r\n    })\r\n  }\r\n\r\n}"],"mappings":";AAAA,SAASA,aAAa,EAAEC,KAAK,EAAEC,iBAAiB,EAAEC,OAAO,EAAEC,KAAK,QAAQ,OAAO;AAC/E,SAASC,aAAa,QAAQ,2CAA2C;AAEzE,OAAO,MAAMC,WAAW,CAAC;EAGT;EAChB;EACA;EACA;EACA;EACEC,WAAWA,CAACC,GAAG,EAAE;IAAAC,eAAA,cANX,IAAI;IAAE;IAAAA,eAAA,gBACJ,IAAI;IAOV;IACA,IAAIC,QAAQ,GAAG,IAAIV,aAAa,CAAC;MAC/BW,SAAS,EAAE,IAAI,CAAG;IACpB,CAAC,CAAC;IACFH,GAAG,CAACI,WAAW,CAACF,QAAQ,CAACG,UAAU,CAAC,EAAE;IACtCH,QAAQ,CAACI,OAAO,CAAC,GAAG,EAAC,GAAG,EAAC,IAAI,CAAC;IAE9B,IAAIC,KAAK,GAAG,IAAId,KAAK,CAAC,CAAC,EAAE;IACzB,IAAIe,MAAM,GAAG,IAAId,iBAAiB,CAAC,EAAE,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE;IAC5Dc,MAAM,CAACC,QAAQ,CAACC,GAAG,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAC;IAChCF,MAAM,CAACG,MAAM,CAAC,IAAIhB,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;IACrCa,MAAM,CAACI,EAAE,GAAG,IAAIjB,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;IAClCO,QAAQ,CAACW,MAAM,CAACN,KAAK,EAAEC,MAAM,CAAC,EAAE;;IAEhC,IAAIM,aAAa,GAAG,IAAIjB,aAAa,CAACW,MAAM,EAAEN,QAAQ,CAACG,UAAU,CAAC;IAClES,aAAa,CAACC,YAAY,GAAG;MAAG;MAC9BC,KAAK,EAAE,IAAI;MAAG;MACdC,MAAM,EAAErB,KAAK,CAACsB,KAAK;MAAG;MACtBC,IAAI,EAAEvB,KAAK,CAACwB,MAAM,CAAG;IACvB,CAAC;;IAED;IACA,IAAIC,OAAO,GAAGA,CAAA,KAAM;MAClBnB,QAAQ,CAACW,MAAM,CAACN,KAAK,EAAEC,MAAM,CAAC,EAAE;MAChCc,qBAAqB,CAACD,OAAO,CAAC;IAChC,CAAC;IACDA,OAAO,CAAC,CAAC;IAET,IAAI,CAACrB,GAAG,GAAGA,GAAG;IACd,IAAI,CAACO,KAAK,GAAGA,KAAK;IAClBgB,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;EACrB;;EAEA;AACF;AACA;AACA;EACEC,SAASA,CAAC,GAAGC,MAAM,EAAE;IACnBA,MAAM,CAACC,OAAO,CAACC,IAAI,IAAI;MACrB,IAAI,CAACrB,KAAK,CAACsB,GAAG,CAACD,IAAI,CAAC;IACtB,CAAC,CAAC;EACJ;AAEF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}