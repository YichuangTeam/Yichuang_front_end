{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: \"LogInEmail\",\n  data() {\n    return {\n      isDragging: false,\n      startX: 0,\n      thumbPosition: 0,\n      isVerified: false,\n      sliderWidth: 0,\n      yanzhang: \"发送验证码\",\n      mailBox: \"\",\n      code: \"\",\n      c1: false,\n      c2: false,\n      c3: false\n    };\n  },\n  methods: {\n    logIn() {\n      if (this.c2 && this.isVerified) {\n        axios.post(\"http://localhost:8082/api/comsumer/login_before/login/mail_ProofCode\", {\n          code: this.code,\n          to: this.mailBox\n        }).then(ret => {\n          if (ret.data.code == 200) {\n            // console.log(ret.data.data);\n            this.c1 = false;\n            this.c3 = false;\n            // this.$store.commit('userUP', ret.data.data);\n            this.$router.push(\"/\");\n          } else {\n            this.c1 = true;\n            this.c3 = true;\n          }\n        });\n      } else this.c3 = true;\n    },\n    sendCode() {\n      axios.get(\"http://localhost:8082/api/comsumer/login_before/login/mail_ObtainCode\", {\n        params: {\n          to: this.mailBox\n        }\n      }).then(ret => {\n        if (ret.data.code == 200) {\n          this.yanzhang = '发送成功';\n          console.log(ret.data.data);\n        } else this.yanzhang = '发送验证码';\n      });\n    },\n    handleMouseDown(event) {\n      this.isDragging = true;\n      this.startX = event.clientX - this.thumbPosition;\n      document.addEventListener('mousemove', this.handleMouseMove);\n      document.addEventListener('mouseup', this.handleMouseUp);\n    },\n    handleMouseMove(event) {\n      if (this.isDragging) {\n        const distance = event.clientX - this.startX;\n        this.thumbPosition = Math.min(Math.max(distance, 0), this.sliderWidth);\n      }\n    },\n    handleMouseUp() {\n      this.isDragging = false;\n      document.removeEventListener('mousemove', this.handleMouseMove);\n      document.removeEventListener('mouseup', this.handleMouseUp);\n      // 验证滑块是否移动到最右侧\n      this.isVerified = this.thumbPosition === this.sliderWidth;\n      if (!this.isVerified) this.thumbPosition = 0;\n    }\n  },\n  mounted() {\n    this.sliderWidth = this.$el.querySelector('.captcha-slider').offsetWidth - this.$el.querySelector('.captcha-slider-thumb').offsetWidth;\n  }\n};","map":{"version":3,"names":["axios","name","data","isDragging","startX","thumbPosition","isVerified","sliderWidth","yanzhang","mailBox","code","c1","c2","c3","methods","logIn","post","to","then","ret","$router","push","sendCode","get","params","console","log","handleMouseDown","event","clientX","document","addEventListener","handleMouseMove","handleMouseUp","distance","Math","min","max","removeEventListener","mounted","$el","querySelector","offsetWidth"],"sources":["src/components/logIn/LogInEmail.vue"],"sourcesContent":["<!-- 邮件登录 -->\r\n<template>\r\n  <div>\r\n    <router-link to=\"/LogIn\"><span class=\"mima\">密码登录</span></router-link>\r\n    <span class=\"youjian\">邮箱登录</span>\r\n    <span class=\"xian\"></span>\r\n    <input class=\"zhanghao\" type=\"text\" placeholder=\"邮箱\" v-model=\"mailBox\">\r\n    <div>\r\n        <div class=\"captcha-slider\" :class=\"{ 'is-dragging': isDragging }\">\r\n            <div class=\"captcha-slider-thumb\" :style=\"{ left: thumbPosition + 'px' }\" @mousedown=\"handleMouseDown\"></div>\r\n            请按住滑块，拖到最右边\r\n        </div>\r\n        <div v-if=\"isVerified\" class=\"captcha-verified\">验证成功!</div>\r\n        <div v-if=\"!isVerified\" class=\"tome\" :style=\"{ width: thumbPosition + 5 + 'px' }\"></div>\r\n    </div>\r\n    <input class=\"code\" type=\"text\" placeholder=\"验证码\" v-model=\"code\">\r\n    <div class=\"sending\" @click=\"sendCode\">{{ yanzhang }}</div>\r\n    <button @click=\"logIn\">登&nbsp;录</button>\r\n    <a href=\"#/ForgotPassword\" class=\"forgot_password\">忘记密码</a>\r\n    <a href=\"#/LRegister\" class=\"register\">注册</a>\r\n    <li>\r\n        <input type=\"checkbox\" v-model=\"c2\" style=\"cursor: pointer;\">\r\n        我已阅读并接受\r\n        <a href=\"#\" class=\"xieyi\">《易创用户协议》</a>\r\n    </li>\r\n    <div class=\"cuowu\" v-show=\"c1\">验证码错误！</div>\r\n    <div class=\"cuowu1\" v-show=\"c3\">未勾选或未滑动!</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    name:\"LogInEmail\",\r\n    data() {\r\n      return {\r\n        isDragging: false,\r\n        startX: 0,\r\n        thumbPosition: 0,\r\n        isVerified: false,\r\n        sliderWidth: 0,\r\n        yanzhang:\"发送验证码\",\r\n        mailBox:\"\",\r\n        code:\"\",\r\n        c1:false,\r\n        c2:false,\r\n        c3:false\r\n      };\r\n    },\r\n    methods: {\r\n      logIn() {\r\n        if (this.c2 && this.isVerified) {\r\n          axios.post(\"http://localhost:8082/api/comsumer/login_before/login/mail_ProofCode\", {\r\n            code: this.code,\r\n            to: this.mailBox\r\n          }).then(ret => {\r\n            if (ret.data.code == 200) {\r\n              // console.log(ret.data.data);\r\n              this.c1 = false;\r\n              this.c3 = false;\r\n              // this.$store.commit('userUP', ret.data.data);\r\n              this.$router.push(\"/\");\r\n            } else{\r\n              this.c1 = true;\r\n              this.c3 = true;\r\n            }\r\n          })\r\n        }else this.c3 = true;\r\n      },\r\n      sendCode(){\r\n        axios.get(\"http://localhost:8082/api/comsumer/login_before/login/mail_ObtainCode\",{\r\n          params:{\r\n            to:this.mailBox\r\n          }\r\n        }).then(ret=>{\r\n          if(ret.data.code == 200){\r\n            this.yanzhang = '发送成功'\r\n            console.log(ret.data.data);\r\n          } else this.yanzhang = '发送验证码'\r\n        })\r\n        \r\n      },\r\n      handleMouseDown(event) {\r\n        this.isDragging = true;\r\n        this.startX = event.clientX - this.thumbPosition;\r\n        document.addEventListener('mousemove', this.handleMouseMove);\r\n        document.addEventListener('mouseup', this.handleMouseUp);\r\n      },\r\n      handleMouseMove(event) {\r\n        if (this.isDragging) {\r\n          const distance = event.clientX - this.startX;\r\n          this.thumbPosition = Math.min(Math.max(distance, 0), this.sliderWidth);\r\n        }\r\n      },\r\n      handleMouseUp() {\r\n        this.isDragging = false;\r\n        document.removeEventListener('mousemove', this.handleMouseMove);\r\n        document.removeEventListener('mouseup', this.handleMouseUp);\r\n        // 验证滑块是否移动到最右侧\r\n        this.isVerified = this.thumbPosition === this.sliderWidth;\r\n        if(!this.isVerified) this.thumbPosition = 0;\r\n      }\r\n    },\r\n    mounted() {\r\n      this.sliderWidth = this.$el.querySelector('.captcha-slider').offsetWidth - this.$el.querySelector('.captcha-slider-thumb').offsetWidth;\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.mima{\r\n  position: absolute;\r\n  width: 94px;\r\n  height: 32px;\r\n  left: 7px;\r\n  top: 36px;\r\n  color: #333;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  /* border-bottom: 2px solid #000;\r\n  z-index: 1; */\r\n  cursor: pointer;\r\n}\r\n\r\n.mima:hover{\r\n  font-weight: 800;\r\n}\r\n\r\n.xian{\r\n  position: absolute;\r\n  width: 316px;\r\n  height: 2px;\r\n  top: 68px;\r\n  left: 7px;\r\n  border-top: 2px solid #aaa;\r\n}\r\n\r\n.youjian{\r\n  position: absolute;\r\n  width: 94px;\r\n  height: 32px;\r\n  left: 101px;\r\n  top: 36px;\r\n  color: #333;\r\n  font-weight: 800;\r\n  font-size: 18px;\r\n  text-align: center;\r\n  border-bottom: 2px solid #000;\r\n  z-index: 1;\r\n  cursor: pointer;\r\n}\r\n\r\n.zhanghao{\r\n  position: absolute;\r\n  width: 299px;\r\n  height: 33px;\r\n  top: 101px;\r\n  left: 13px;\r\n  font-size: 14px;\r\n  color: #000;\r\n  background-color: #eee;\r\n  border: 1px solid #797979;\r\n  border-radius: 5px;\r\n  padding: 2px 2px 2px 10px;\r\n  outline: none;\r\n}\r\n\r\n.code{\r\n  position: absolute;\r\n  width: 122px;\r\n  height: 33px;\r\n  left: 13px;\r\n  top: 215px;\r\n  background-color: #eee;\r\n  border-radius: 5px;\r\n  border: 1px solid #797979;\r\n  padding: 2px 2px 2px 10px;\r\n  font-size: 14px;\r\n  color: #000;\r\n  outline: none;\r\n}\r\n\r\n.sending{\r\n  position: absolute;\r\n  width: 111px;\r\n  height: 37px;\r\n  left: 213px;\r\n  top: 215px;\r\n  font-size: 14px;\r\n  background-color: #eee;\r\n  border-radius: 5px;\r\n  border: 1px solid #797979;\r\n  color: #666;\r\n  text-align: center;\r\n  line-height: 37px;\r\n  cursor: pointer;\r\n}\r\n\r\n.sending:hover{\r\n  color: #000;\r\n}\r\n\r\nbutton{\r\n  position: absolute;\r\n  width: 311px;\r\n  height: 37px;\r\n  left: 13px;\r\n  top: 271px;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  background-color: #00B1FF;\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: 2px 2px 2px 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.forgot_password{\r\n  position: absolute;\r\n  width: 60px;\r\n  height: 17px;\r\n  left: 17px;\r\n  top: 335px;\r\n  font-size: 15px;\r\n  color: #333;\r\n}\r\n\r\n.forgot_password:hover{\r\n  color: #000;\r\n  font-weight: 800;\r\n}\r\n\r\n.register{\r\n  position: absolute;\r\n  width: 30px;\r\n  height: 17px;\r\n  font-size: 15px;\r\n  color: #333;\r\n  left: 289px;\r\n  top: 335px;\r\n}\r\n\r\n.register:hover{\r\n  color: #000;\r\n  font-weight: 800;\r\n}\r\n\r\nli{\r\n  position: absolute;\r\n  left: 17px;\r\n  top: 384px;\r\n  font-size: 16px;\r\n}\r\n\r\n.cuowu,\r\n.cuowu1{\r\n  position: absolute;\r\n  height: 15px;\r\n  top: 254px;\r\n  left: 24px;\r\n  font-size: 13px;\r\n  color: #FF0000;\r\n}\r\n\r\n.cuowu1{\r\n  top: 405px;\r\n}\r\n\r\n/* 验证滑块 */\r\n.captcha-slider {\r\n    position: absolute;\r\n    top: 158px;\r\n    left: 13px;\r\n    width: 311px;\r\n    height: 37px;\r\n    font-size: 14px;\r\n    color: #666;\r\n    text-align: center;\r\n    line-height: 37px;\r\n    background-color: #eee;\r\n    user-select: none;\r\n    border: 1px solid #797979;\r\n    border-radius: 5px;\r\n}\r\n\r\n.captcha-slider-thumb {\r\n    position: absolute;\r\n    width: 39px;\r\n    height: 39px;\r\n    background: url(\"../../../public/logIn/滑动.png\") no-repeat 100% 100% / cover;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    border-radius: 5px;\r\n    margin-left: -1px;\r\n    margin-top: -1px;\r\n    z-index: 2;\r\n}\r\n\r\n.is-dragging .captcha-slider-thumb {\r\n    transition: none;\r\n}\r\n\r\n.captcha-verified {\r\n    position: absolute;\r\n    top: 158px;\r\n    left: 13px;\r\n    width: 311px;\r\n    height: 37px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: #000;\r\n    background-color: #00B1FF;\r\n    border-radius: 5px;\r\n    border: 1px solid #797979;\r\n}\r\n\r\n.tome{\r\n  position: absolute;\r\n  top: 158px;\r\n  left: 13px;\r\n  height: 37px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #00B1FF;\r\n  border-radius: 5px;\r\n  border: 1px solid #797979;\r\n  z-index: 1;\r\n}\r\n</style>"],"mappings":";AA+BA,OAAAA,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,UAAA;MACAC,MAAA;MACAC,aAAA;MACAC,UAAA;MACAC,WAAA;MACAC,QAAA;MACAC,OAAA;MACAC,IAAA;MACAC,EAAA;MACAC,EAAA;MACAC,EAAA;IACA;EACA;EACAC,OAAA;IACAC,MAAA;MACA,SAAAH,EAAA,SAAAN,UAAA;QACAN,KAAA,CAAAgB,IAAA;UACAN,IAAA,OAAAA,IAAA;UACAO,EAAA,OAAAR;QACA,GAAAS,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAjB,IAAA,CAAAQ,IAAA;YACA;YACA,KAAAC,EAAA;YACA,KAAAE,EAAA;YACA;YACA,KAAAO,OAAA,CAAAC,IAAA;UACA;YACA,KAAAV,EAAA;YACA,KAAAE,EAAA;UACA;QACA;MACA,YAAAA,EAAA;IACA;IACAS,SAAA;MACAtB,KAAA,CAAAuB,GAAA;QACAC,MAAA;UACAP,EAAA,OAAAR;QACA;MACA,GAAAS,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAjB,IAAA,CAAAQ,IAAA;UACA,KAAAF,QAAA;UACAiB,OAAA,CAAAC,GAAA,CAAAP,GAAA,CAAAjB,IAAA,CAAAA,IAAA;QACA,YAAAM,QAAA;MACA;IAEA;IACAmB,gBAAAC,KAAA;MACA,KAAAzB,UAAA;MACA,KAAAC,MAAA,GAAAwB,KAAA,CAAAC,OAAA,QAAAxB,aAAA;MACAyB,QAAA,CAAAC,gBAAA,mBAAAC,eAAA;MACAF,QAAA,CAAAC,gBAAA,iBAAAE,aAAA;IACA;IACAD,gBAAAJ,KAAA;MACA,SAAAzB,UAAA;QACA,MAAA+B,QAAA,GAAAN,KAAA,CAAAC,OAAA,QAAAzB,MAAA;QACA,KAAAC,aAAA,GAAA8B,IAAA,CAAAC,GAAA,CAAAD,IAAA,CAAAE,GAAA,CAAAH,QAAA,WAAA3B,WAAA;MACA;IACA;IACA0B,cAAA;MACA,KAAA9B,UAAA;MACA2B,QAAA,CAAAQ,mBAAA,mBAAAN,eAAA;MACAF,QAAA,CAAAQ,mBAAA,iBAAAL,aAAA;MACA;MACA,KAAA3B,UAAA,QAAAD,aAAA,UAAAE,WAAA;MACA,UAAAD,UAAA,OAAAD,aAAA;IACA;EACA;EACAkC,QAAA;IACA,KAAAhC,WAAA,QAAAiC,GAAA,CAAAC,aAAA,oBAAAC,WAAA,QAAAF,GAAA,CAAAC,aAAA,0BAAAC,WAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}