{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: \"ForgotPassword\",\n  data() {\n    return {\n      isDragging: false,\n      startX: 0,\n      thumbPosition: 0,\n      isVerified: false,\n      sliderWidth: 0,\n      yanzhang: \"发送验证码\",\n      mailBox: \"\",\n      code: \"\",\n      c1: false,\n      c2: false,\n      imtrue: false\n    };\n  },\n  methods: {\n    sendCode() {\n      axios.get('http://localhost:8082/api/comsumer/login_before/forget_pass/mail_ObtainCode', {\n        params: {\n          to: this.mailBox\n        }\n      }).then(ret => {\n        if (ret.data.code == 200) {\n          this.yanzhang = \"发送成功\";\n          console.log(ret.data.data);\n        } else this.yanzhang = \"发送验证码\";\n      });\n    },\n    lastonebu() {\n      if (this.isVerified && this.imtrue) {\n        this.c2 = false;\n        axios.post('http://localhost:8082/api/comsumer/login_before/forget_pass/mail_ProofCode', {\n          to: this.mailBox,\n          code: this.code\n        }).then(ret => {\n          if (ret.data.code == 200) {\n            this.c1 = false;\n            this.$router.push({\n              path: '/ForgotPasswordA',\n              query: {\n                mailBox: this.mailBox\n              }\n            });\n          } else this.c1 = true;\n        });\n      } else this.c2 = true;\n    },\n    handleMouseDown(event) {\n      this.isDragging = true;\n      this.startX = event.clientX - this.thumbPosition;\n      document.addEventListener('mousemove', this.handleMouseMove);\n      document.addEventListener('mouseup', this.handleMouseUp);\n    },\n    handleMouseMove(event) {\n      if (this.isDragging) {\n        const distance = event.clientX - this.startX;\n        this.thumbPosition = Math.min(Math.max(distance, 0), this.sliderWidth);\n      }\n    },\n    handleMouseUp() {\n      this.isDragging = false;\n      document.removeEventListener('mousemove', this.handleMouseMove);\n      document.removeEventListener('mouseup', this.handleMouseUp);\n      // 验证滑块是否移动到最右侧\n      this.isVerified = this.thumbPosition === this.sliderWidth;\n      if (!this.isVerified) this.thumbPosition = 0;\n    }\n  },\n  mounted() {\n    this.sliderWidth = this.$el.querySelector('.captcha-slider').offsetWidth - this.$el.querySelector('.captcha-slider-thumb').offsetWidth;\n  }\n};","map":{"version":3,"names":["axios","name","data","isDragging","startX","thumbPosition","isVerified","sliderWidth","yanzhang","mailBox","code","c1","c2","imtrue","methods","sendCode","get","params","to","then","ret","console","log","lastonebu","post","$router","push","path","query","handleMouseDown","event","clientX","document","addEventListener","handleMouseMove","handleMouseUp","distance","Math","min","max","removeEventListener","mounted","$el","querySelector","offsetWidth"],"sources":["src/components/logIn/ForgotPassword.vue"],"sourcesContent":["<!-- 忘记密码 -->\r\n<template>\r\n    <div>\r\n        <img class=\"back\" src=\"../../../public/logIn/logF.png\" alt=\"\" @click=\"$router.go(-1)\">\r\n        <span class=\"title\">找&nbsp;回&nbsp;密&nbsp;码</span>\r\n        <span class=\"xian\"></span>\r\n        <input class=\"zhanghao\" type=\"text\" placeholder=\"邮箱 / 手机号\" v-model=\"mailBox\">\r\n        <div>\r\n            <div class=\"captcha-slider\" :class=\"{ 'is-dragging': isDragging }\">\r\n                <div class=\"captcha-slider-thumb\" :style=\"{ left: thumbPosition + 'px' }\" @mousedown=\"handleMouseDown\">\r\n                </div>\r\n                请按住滑块，拖到最右边\r\n            </div>\r\n            <div v-if=\"isVerified\" class=\"captcha-verified\">验证成功!</div>\r\n            <div v-if=\"!isVerified\" class=\"tome\" :style=\"{ width: thumbPosition + 5 + 'px' }\"></div>\r\n        </div>\r\n        <input class=\"code\" type=\"text\" placeholder=\"验证码\" v-model=\"code\">\r\n        <div class=\"sending\" @click=\"sendCode()\">{{ yanzhang }}</div>\r\n        <button @click=\"lastonebu\">下&nbsp;一&nbsp;步</button>\r\n        <li>\r\n            <input type=\"checkbox\" v-model=\"imtrue\" style=\"cursor: pointer;\">\r\n            我已阅读并接受\r\n            <a href=\"#\" class=\"xieyi\">《易创用户协议》</a>\r\n        </li>\r\n        <div class=\"cuowu\" v-show=\"c1\">验证码错误！</div>\r\n        <div class=\"cuowu1\" v-show=\"c2\">未勾选或未滑动!</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    name: \"ForgotPassword\",\r\n    data() {\r\n        return {\r\n            isDragging: false,\r\n            startX: 0,\r\n            thumbPosition: 0,\r\n            isVerified: false,\r\n            sliderWidth: 0,\r\n            yanzhang: \"发送验证码\",\r\n            mailBox: \"\",\r\n            code:\"\",\r\n            c1:false,\r\n            c2:false,\r\n            imtrue:false\r\n        };\r\n    },\r\n    methods: {\r\n        sendCode() {\r\n            axios.get('http://localhost:8082/api/comsumer/login_before/forget_pass/mail_ObtainCode',{\r\n                params:{\r\n                    to: this.mailBox\r\n                }\r\n            }).then(ret=>{\r\n                if(ret.data.code==200){\r\n                    this.yanzhang = \"发送成功\";\r\n                    console.log(ret.data.data);\r\n                }else this.yanzhang = \"发送验证码\";\r\n            })\r\n        },\r\n        lastonebu(){\r\n            if(this.isVerified && this.imtrue){\r\n                this.c2 = false;\r\n                axios.post('http://localhost:8082/api/comsumer/login_before/forget_pass/mail_ProofCode',{\r\n                    to: this.mailBox,\r\n                    code: this.code\r\n                }).then(ret=>{\r\n                    if(ret.data.code==200){\r\n                        this.c1 = false;\r\n                        this.$router.push({path:'/ForgotPasswordA',query:{mailBox:this.mailBox}})\r\n                    }else this.c1 = true;\r\n                })\r\n            }else this.c2 = true;\r\n        },\r\n        handleMouseDown(event) {\r\n            this.isDragging = true;\r\n            this.startX = event.clientX - this.thumbPosition;\r\n            document.addEventListener('mousemove', this.handleMouseMove);\r\n            document.addEventListener('mouseup', this.handleMouseUp);\r\n        },\r\n        handleMouseMove(event) {\r\n            if (this.isDragging) {\r\n                const distance = event.clientX - this.startX;\r\n                this.thumbPosition = Math.min(Math.max(distance, 0), this.sliderWidth);\r\n            }\r\n        },\r\n        handleMouseUp() {\r\n            this.isDragging = false;\r\n            document.removeEventListener('mousemove', this.handleMouseMove);\r\n            document.removeEventListener('mouseup', this.handleMouseUp);\r\n            // 验证滑块是否移动到最右侧\r\n            this.isVerified = this.thumbPosition === this.sliderWidth;\r\n            if (!this.isVerified) this.thumbPosition = 0;\r\n        }\r\n    },\r\n    mounted() {\r\n        this.sliderWidth = this.$el.querySelector('.captcha-slider').offsetWidth - this.$el.querySelector('.captcha-slider-thumb').offsetWidth;\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.back{\r\n    position: absolute;\r\n    width: 28px;\r\n    height: 28px;\r\n    left: 14px;\r\n    top: 28px;\r\n    cursor: pointer;\r\n}\r\n\r\n.xian {\r\n    position: absolute;\r\n    width: 316px;\r\n    height: 2px;\r\n    top: 68px;\r\n    left: 7px;\r\n    border-top: 2px solid #aaa;\r\n}\r\n\r\n.title {\r\n    position: absolute;\r\n    width: 94px;\r\n    height: 32px;\r\n    left: 115px;\r\n    top: 30px;\r\n    color: #333;\r\n    font-weight: 800;\r\n    font-size: 18px;\r\n    text-align: center;\r\n}\r\n\r\n.zhanghao {\r\n    position: absolute;\r\n    width: 299px;\r\n    height: 33px;\r\n    top: 101px;\r\n    left: 13px;\r\n    font-size: 14px;\r\n    color: #000;\r\n    background-color: #eee;\r\n    border: 1px solid #797979;\r\n    border-radius: 5px;\r\n    padding: 2px 2px 2px 10px;\r\n    outline: none;\r\n}\r\n\r\n.code {\r\n    position: absolute;\r\n    width: 122px;\r\n    height: 33px;\r\n    left: 13px;\r\n    top: 215px;\r\n    background-color: #eee;\r\n    border-radius: 5px;\r\n    border: 1px solid #797979;\r\n    padding: 2px 2px 2px 10px;\r\n    font-size: 14px;\r\n    color: #000;\r\n    outline: none;\r\n}\r\n\r\n.sending {\r\n    position: absolute;\r\n    width: 111px;\r\n    height: 37px;\r\n    left: 213px;\r\n    top: 215px;\r\n    font-size: 14px;\r\n    background-color: #eee;\r\n    border-radius: 5px;\r\n    border: 1px solid #797979;\r\n    color: #666;\r\n    text-align: center;\r\n    line-height: 37px;\r\n    cursor: pointer;\r\n}\r\n\r\n.sending:hover{\r\n    color: #000;\r\n}\r\n\r\nbutton {\r\n    position: absolute;\r\n    width: 311px;\r\n    height: 37px;\r\n    left: 13px;\r\n    top: 271px;\r\n    font-size: 14px;\r\n    color: #fff;\r\n    background-color: #00B1FF;\r\n    border: none;\r\n    border-radius: 5px;\r\n    padding: 2px 2px 2px 10px;\r\n    cursor: pointer;\r\n}\r\n\r\nli {\r\n    position: absolute;\r\n    left: 30px;\r\n    top: 340px;\r\n    font-size: 16px;\r\n}\r\n\r\n.cuowu,\r\n.cuowu1 {\r\n    position: absolute;\r\n    height: 15px;\r\n    top: 254px;\r\n    left: 24px;\r\n    font-size: 13px;\r\n    color: #FF0000;\r\n}\r\n\r\n.cuowu1{\r\n    top: 365px;\r\n}\r\n\r\n/* 验证滑块 */\r\n.captcha-slider {\r\n    position: absolute;\r\n    top: 158px;\r\n    left: 13px;\r\n    width: 311px;\r\n    height: 37px;\r\n    font-size: 14px;\r\n    color: #666;\r\n    text-align: center;\r\n    line-height: 37px;\r\n    background-color: #eee;\r\n    user-select: none;\r\n    border: 1px solid #797979;\r\n    border-radius: 5px;\r\n}\r\n\r\n.captcha-slider-thumb {\r\n    position: absolute;\r\n    width: 39px;\r\n    height: 39px;\r\n    background-color: #fff;\r\n    background: url(\"../../../public/logIn/滑动.png\") no-repeat 100% 100% / cover;\r\n    cursor: pointer;\r\n    user-select: none;\r\n    border-radius: 5px;\r\n    margin-left: -1px;\r\n    margin-top: -1px;\r\n    z-index: 2;\r\n}\r\n\r\n.is-dragging .captcha-slider-thumb {\r\n    transition: none;\r\n}\r\n\r\n.captcha-verified {\r\n    position: absolute;\r\n    top: 158px;\r\n    left: 13px;\r\n    width: 311px;\r\n    height: 37px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: #000;\r\n    background-color: #00B1FF;\r\n    border-radius: 5px;\r\n    border: 1px solid #797979;\r\n}\r\n\r\n.tome{\r\n  position: absolute;\r\n  top: 158px;\r\n  left: 13px;\r\n  height: 37px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #00B1FF;\r\n  border-radius: 5px;\r\n  border: 1px solid #797979;\r\n  z-index: 1;\r\n}\r\n</style>"],"mappings":";AA8BA,OAAAA,KAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,UAAA;MACAC,MAAA;MACAC,aAAA;MACAC,UAAA;MACAC,WAAA;MACAC,QAAA;MACAC,OAAA;MACAC,IAAA;MACAC,EAAA;MACAC,EAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,SAAA;MACAf,KAAA,CAAAgB,GAAA;QACAC,MAAA;UACAC,EAAA,OAAAT;QACA;MACA,GAAAU,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAlB,IAAA,CAAAQ,IAAA;UACA,KAAAF,QAAA;UACAa,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAAlB,IAAA,CAAAA,IAAA;QACA,YAAAM,QAAA;MACA;IACA;IACAe,UAAA;MACA,SAAAjB,UAAA,SAAAO,MAAA;QACA,KAAAD,EAAA;QACAZ,KAAA,CAAAwB,IAAA;UACAN,EAAA,OAAAT,OAAA;UACAC,IAAA,OAAAA;QACA,GAAAS,IAAA,CAAAC,GAAA;UACA,IAAAA,GAAA,CAAAlB,IAAA,CAAAQ,IAAA;YACA,KAAAC,EAAA;YACA,KAAAc,OAAA,CAAAC,IAAA;cAAAC,IAAA;cAAAC,KAAA;gBAAAnB,OAAA,OAAAA;cAAA;YAAA;UACA,YAAAE,EAAA;QACA;MACA,YAAAC,EAAA;IACA;IACAiB,gBAAAC,KAAA;MACA,KAAA3B,UAAA;MACA,KAAAC,MAAA,GAAA0B,KAAA,CAAAC,OAAA,QAAA1B,aAAA;MACA2B,QAAA,CAAAC,gBAAA,mBAAAC,eAAA;MACAF,QAAA,CAAAC,gBAAA,iBAAAE,aAAA;IACA;IACAD,gBAAAJ,KAAA;MACA,SAAA3B,UAAA;QACA,MAAAiC,QAAA,GAAAN,KAAA,CAAAC,OAAA,QAAA3B,MAAA;QACA,KAAAC,aAAA,GAAAgC,IAAA,CAAAC,GAAA,CAAAD,IAAA,CAAAE,GAAA,CAAAH,QAAA,WAAA7B,WAAA;MACA;IACA;IACA4B,cAAA;MACA,KAAAhC,UAAA;MACA6B,QAAA,CAAAQ,mBAAA,mBAAAN,eAAA;MACAF,QAAA,CAAAQ,mBAAA,iBAAAL,aAAA;MACA;MACA,KAAA7B,UAAA,QAAAD,aAAA,UAAAE,WAAA;MACA,UAAAD,UAAA,OAAAD,aAAA;IACA;EACA;EACAoC,QAAA;IACA,KAAAlC,WAAA,QAAAmC,GAAA,CAAAC,aAAA,oBAAAC,WAAA,QAAAF,GAAA,CAAAC,aAAA,0BAAAC,WAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}